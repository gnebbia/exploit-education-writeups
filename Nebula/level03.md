# LEVEL 03 Writeup

Soruda `/home/flag03` dizinini kontrol etmemiz söyleniyor. Ayrıca birkaç dakika da bir çalışan crontab işlemimiz varmış.

![0](img/level03_0.png)

`writable.d` dizininde bulunan bütün dosyaları çalıştıran ve daha sonra silen bir `writable.sh` dosyamız var. Bu dosyamızda büyük ihtimalle soruda bize söylenen crontab işleminin çalıştırdığı dosya olmalı.

Bunu daha rahat anlamak açısından `writable.d` klasörünün içerisine basit bir script koyalım.

![1](img/level03_1.png)

Dikkat ederseniz level03 kullanıcısı olmamıza rağmen dosyayı flag03 kullanıcı ile oluşturmuş. Yani bizimi crontab işlemimiz `writable.d` dizinindeki dosyaları `flag03` kullanıcısı olarak çalıştırıyor.

O zaman flag03 kullanıcısının `SUID` bitini kullanarak daha önce yazdığımız `shell.c` dosyasını çalıştırabilir ve `/bin/bash` çalıştırabiliriz.

Bunun için `writable.d` klasörüne bir bash script daha yazıp kaydedelim.

    gcc /tmp/shell.c -o /home/flag03/shell
    chmod 7777 /home/flag03/shell

![2](img/level03_2.png)

Kaydettikten sonra 1-2 dakika crontab'imizin çalışmasını bekliyoruz.

Daha sonra /home/flag03 dizinine giderek shell'imizi çalıştırabiliriz.

![3](img/level03_3.png)

Yukarıdaki resimde gördüğünüz gibi shell'i çalıştırdığımız zaman `flag03` kullanıcısı olarak komut satırına erişmiş olduk.
