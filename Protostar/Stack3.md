# Stack Three Writeup

# `Source Code`

![source code](img/stack3_source_code.png)

Burada bizden istenen main fonksiyonumuz içerisinde çağrılmayan bir fonksiyonu `(win fonksiyonu)`, değişkenin değeri değiştirilerek `(fp)` programımızı manipüle etmek.

Kısaca, `fp` fonksiyon pointeri `main` fonksiyonunda çağırıldığı için ve lokal değişken olarak tanımlandığı için biz de `stack`'i taşırarak `fp` değişkenimizi istediğimiz fonksiyonun adresi ile değiştirmeye çalışacağız.

![run](img/stack3_1.png)

64 karakter gönderdiğim zaman herhangi bir çıktı vermedi ancak fp 4 byte olduğundan ötürü 4 karakter(BCDE) daha girdiğim zaman `0x45444342` adresinde bulunan kodu çalıştırmak istedi. Ama o adrese yetkimiz olmadığından dolayı işletim sistemimiz bize `segmentation fault` hatası verdi.

 `fp` değişkenimizin değerini değiştirebildiğimizi gördüğümüze göre artık `win` fonksiyonumuzun adresini öğrenebiliriz. Burada 2 tane seçeneğimiz var.

 Birinci seçeneğimiz `objdump` ile öğrenmek

    objdump -S stack3 | grep win

İkinci seçeneğimiz ise `gdb` kullanarak öğrenmek

    gdb ./stack3
    (gdb) print win

![objdump & gdb](img/stack3_2.png)

`Win` fonksiyonumuzun adresini öğrendiğimize göre artık `fp` değişkenimizi bu değerle değiştirelim :)

![solution](img/stack3_3.png)

Ve gördüğünüz gibi programımıza başarıyla müdahale etmiş olduk
